<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Sphere</title>
</head>

<body>
    <script src="https://unpkg.com/three@0.102.1/build/three.js"></script>
    <script src="../dist/index.js"></script>
    <script src="./javascripts/common.js"></script>
    <script>
        const emitter = new TP.ExplosionEmitter({
            emission: 25,
            particlesOpacityKey: [0, .5, 1],
            particlesOpacityValue: [0, 1, 0],
        });
        const sphere = new TP.Sphere({
            velocity: 1,
            radius: 1,
            life: 5,
            border: 5
        });
        const gravity = new TP.Gravity({
            gravity: .1,
            floor: new THREE.Plane(new THREE.Vector3(0, 1, 0), 10),
            event: TP.Gravity.BOUNCE
        });
        const ambientLight = new THREE.AmbientLight( 0x404040 ); // soft white light
        scene.add(ambientLight);
        emitter.addParticle(sphere);
        emitter.addPhysical(gravity);
        emitter.anchor.y = 5;
        scene.add(emitter);

        camera.position.set(0, 0, 50);

        (function render() {
            requestAnimationFrame(render);
            emitter.update();
            renderer.render(scene, camera);
        })();

    </script>
</body>

</html>
